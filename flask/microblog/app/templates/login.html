<!-- extend from base layout -->
{% extends "base.html" %}

{% block content %}
<script type="text/javascript">
	function set_openid(openid, pr) {
		u = openid.search('<username>')
		if (u != 1) {
			user = prompt('Enter your ' + pr + ' username:')
			openid = openid.substr(0, u) + user
		}
		form = document.forms['login'];
		form.elements['openid'].value = openid
	}
</script>

<div class="row">
	<h2>Sign in</h2>
	<form action="" method="post" name="login">
		{{ form.hidden_tag() }}
		<div class="form-group">
			<label>Please enter your OpenId:</label><br/>
			{{ form.openid(size=80) }}
			{% for error in form.openid.errors %}
				<span style="color: red;">[{{ error }}]</span>
			{% endfor %}<br/>
			|{% for pr in providers %}
				<a href="javascript:set_openid('{{ pr.url }}', '{{ pr.name }}');">{{ pr.name }}</a> |
			{% endfor %}
		</div>
		<div class="checkbox">
			<label>{{ form.remember_me }} Remember me</label>
		</div>
		<button type="submit" class="btn btn-primary">Sign in</button>
	</form>
</div>
{% endblock %}